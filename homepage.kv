<HomePage>:
    name: 'home'
    Screen:
        FloatLayout:

            # Title row with just a label
            MDLabel:
                text: "Sn@pRide"
                font_size: "24sp"
                size_hint: (1, None)
                height: "60dp"
                pos_hint: {'center_x': 0.5, 'top': 1}
                halign: 'center'
                color: "#000000"  # Black font
                md_bg_color: 1, 0.9, 0, 1  # Yellow background

            # Row with buttons
            BoxLayout:
                id: main_button_layout
                size_hint: (1, None)
                height: "60dp"
                pos_hint: {'center_x': 0.65, 'top': 0.925}

                MDIconButton:
                    icon: "bus"
                    user_font_size: "32sp"
                    on_release: app.toggle_extra_controls(root.ids.extra_controls_layout)

                MDIconButton:
                    icon: "train"
                    user_font_size: "32sp"
                    on_release: app.process_button('train')
                MDIconButton:
                    icon: "airplane"
                    user_font_size: "32sp"
                    on_release: app.process_button('fly')
                MDIconButton:
                    icon: "car"
                    user_font_size: "32sp"
                    on_release: app.process_button('car')
                MDIconButton:
                    icon: "bike"
                    user_font_size: "32sp"
                    on_release: app.process_button('bike')
        # Row with additional buttons at the bottom
            BoxLayout:
                id: footer
                size_hint: (1, None)
                height: "60dp"
                pos_hint: {'center_x': 0.65, 'bottom': 0}

                MDFlatButton:
                    text: "Home"
                    on_release: app.switch_to_home()

                MDFlatButton:
                    text: "Wallet"

                MDFlatButton:
                    text: "History"

                MDFlatButton:
                    text: "Profile"




            FloatLayout:
                id: extra_controls_layout
                size_hint: (None, None)
                size: ("360dp", "120dp")
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                opacity: 0  # Start as hidden

                MDRaisedButton:
                    text: "Passes"
                    size_hint: None, None
                    size: ("120dp", "48dp")
                    pos_hint: {'center_x': 0.3, 'center_y': 0.80}

                MDRaisedButton:
                    text: "Tickets"
                    size_hint: None, None
                    size: ("120dp", "48dp")
                    pos_hint: {'center_x': 0.7, 'center_y': 0.80}
                    on_release: app.process_tickets(root.ids.tickets_controls)


                MDTextField:
                    id: destination_search
                    hint_text: "Enter destination"
                    size_hint: (0.8, None)
                    height: "30dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.20}
                    on_text: app.update_autocomplete(self)

                FloatLayout:
                    id: tickets_controls
                    size_hint: (None, None)
                    size: ("360dp", "320dp")
                    pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                    opacity: 0  # Start as hidden

                    MDTextField:
                        id: pickup_location
                        hint_text: "Enter pickup location"
                        size_hint: (0.8, None)
                        height: "48dp"
                        pos_hint: {'center_x': 0.5, 'center_y': 0.9}

                    MDTextField:
                        id: destination_location
                        hint_text: "Enter destination location"
                        size_hint: (0.8, None)
                        height: "48dp"
                        pos_hint: {'center_x': 0.5, 'center_y': 0.8}

                    MDRaisedButton:
                        text: "Submit"
                        size_hint: None, None
                        size: ("120dp", "48dp")
                        pos_hint: {'center_x': 0.5, 'center_y': 0.7}
                        on_release: app.process_ticket_submission(pickup_location.text, destination_location.text)
